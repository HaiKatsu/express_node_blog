<link rel="stylesheet" href="/css/button.css">
<body>
    <form action="/dashboard" method="GET">
        <button class="btn" type="submit" style="position: fixed; top: calc(500px + 20px); left: 75px;">
            <span style="font-weight: bold; font-size:30px">Manage posts</span>
        </button>
    </form>

    <form action="/dashboard/users" method="GET">
        <button class="btn" type="submit" style="position: fixed; top: calc(650px + 20px); left: 75px;">
            <span style="font-weight: bold; font-size:30px">Manage users</span>
        </button>
    </form>

    <div style="display: flex; align-items: center; margin-bottom: 70px">
        <h1 style="margin-right: 50px; margin-bottom: 30px; font-weight:bold">Posts</h1>
        <a href="/posts/new" style="text-decoration: none; color: black;">
            <button class="btn" type="submit">
              <span style="font-weight: bold;">Create a new post</span>
            </button>
        </a>
    </div>
    
    <div class="card-container" style="margin-bottom: 100px; position: relative;">
        <% posts.forEach(post => { %>
            <div class="card" style="position: relative;">
                <a href="/posts/<%= post.id %>" style="text-decoration: none; color: black;">
                    <img src="<%= post.image %>" class="card-img-top" alt="Card Image">
                    <a href="/posts/<%= post.id %>/edit">
                        <svg style="position: absolute; bottom: 5px; left: 5px;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="16 3 21 8 8 21 3 21 3 16 16 3"></polygon></svg>
                    </a>
                    <form action="/posts/<%= post.id %>" method="POST" style="display:inline; position: absolute; bottom: 5px; right: 5px;">
                        <input type="hidden" name="_method" value="DELETE">
                        <button type="submit" style="background: none; border: none; padding: 0; margin: 0; cursor: pointer;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                        </button>
                    </form>
                    
                    <div class="card-body">
                        <div>
                            <h5 class="card-title" style="font-weight: bold;"><%= post.title %></h5>
                        </div>
                        <div style="height: 200px; display: flex; justify-content: center; align-items: center;">
                            <p class="card-text" style="width: 75%; margin: 0 auto; text-align: center;"><%= post.textPreview %></p>
                        </div>
                    </div>
                </a>
            </div>
        <% }); %>
    </div>
    
    

</body>


<style>
    .card-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center; /* Center remaining cards on the last row */
    }

    .card {
        width: 350px;
        height: 500px;
        max-width: 400px;
        background-color: white;
        border-radius: 15px;
        overflow: hidden;
        margin: 0 10px 50px 10px; /* Adjust margin as needed */
        text-align: center;
        box-shadow: 0 0 10px rgba(0, 0, 0, 1);
    }
    
    .card-img-top {
        width: 100%;
        height: 250px;
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
    }
    
</style>